<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Module>
    <ModulePrefs author="RooX Solutions" author_email="support@roox.ru" height="100%" title="Messages" version="1.0-SNAPSHOT" width="100%">
        <Require feature="com.rooxteam.webapi"/>
    </ModulePrefs>
    <Content content-type="text/html" type="html">
        <![CDATA[
            <script language="javascript" type="text/javascript">
                gadgets.util.registerOnLoadHandler(function(){
                     com.rooxteam.webapi.news.get().execute(function(data) {
                        if (data.result) {
                            var news = data.result;
                            gadgets.log('Количество новостей: ' + news.length);
                            gadgets.log(news);
                        } else if (data.error &amp;&amp; data.error.code) {
                            gadgets.error("get news :" + data.error.message);
                        } else {
                            gadgets.error("Unknown error");
                        }
                    });
                });
            </script>
        ]]>
    </Content>
</Module>
